C51 COMPILER V9.00   MAIN                                                                  01/08/2025 16:52:06 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE ..\Code\main.c LARGE OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.
                    -\Listings\main.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include "ds1302.h"
   2          #include <reg51.h>
   3          #include "OLED.h"
   4          #include "page.h"
   5          #include "key.h"
   6          
   7          void IsAlarmTime();
   8          
   9          sbit LED = P3^ 0;
  10          
  11          
  12          //ä¸»å‡½æ•°
  13          void main()
  14          {
  15   1          unsigned char keycode;
  16   1      
  17   1          LED = 0;
  18   1      
  19   1          OLED_Init();
  20   1          DS1302_Init();
  21   1          while (1)
  22   1          {
  23   2              if(blink_flag==1) blink_flag=0;        //é—ªçƒæ ‡è¯†ä½ï¼Œæ”¾åœ¨å¾ªç¯å†…æ‰§è¡Œï¼Œå±å¹•ä¸Šçš„é—ª
             -çƒå…ƒç´ å°±éœ€è¦æ ¹æ®æ­¤å®ç°
  24   2              else blink_flag=1;
  25   2      
  26   2              ShowPage_Home();
  27   2              keycode=Key_Scan();
  28   2              if(keycode!=0)
  29   2              {
  30   3                  ShowPage_Menu();
  31   3              }
  32   2              IsAlarmTime();
  33   2          }
  34   1      }
  35          
  36          
  37          /// @brief æ˜¯å¦åˆ°äº†å“é“ƒæ—¶åˆ»
  38          void IsAlarmTime()
  39          {
  40   1          unsigned char i;
  41   1          unsigned char isSame = 1; // æ ‡è¯†ä½ï¼Œå¦‚æœä¸¤ä¸ªæ—¶é—´ç›¸ç­‰åˆ™ä¸º1ï¼Œå¦åˆ™ä¸º0ï¼Œé»˜è®¤ä¸º1
  42   1      
  43   1          if (isAlarmOn == 1)     //åªæœ‰é—¹é“ƒå¼€å¯çš„æ—¶å€™ï¼Œæ‰åˆ¤æ–­æ˜¯å¦å“
  44   1          {
  45   2              // å…ˆåˆ¤æ–­æ˜¯å¦åˆ°äº†å¼€ç¯æ—¶é—´
  46   2              for (i = 0; i <= 3; i++)
  47   2              {
  48   3                  if (DS1302_Time[i] != Alarm_Time[i]) // ä¸€æ—¦ä¸¤ä¸ªå­—ç¬¦ä¸²æœ‰ä»»æ„ä¸€ä½ä¸ç›¸ç­‰çš„ï¼Œåˆ™
             -æ ‡å¿—ä½isSame=0
  49   3                  {
  50   4                      isSame = 0; // æ²¡å¿…è¦ç»§ç»­åˆ¤æ–­äº†ï¼Œè·³å‡ºå¾ªç¯
  51   4                      break;
  52   4                  }
C51 COMPILER V9.00   MAIN                                                                  01/08/2025 16:52:06 PAGE 2   

  53   3              }
  54   2              if (isSame == 1 ) // å¦‚æœç»è¿‡ä¸Šé¢çš„åˆ¤æ–­ï¼Œæ ‡å¿—ä½ä¸€ç›´æ˜¯1ï¼Œæ­¤æ—¶è¯´æ˜å“é“ƒæ—¶é—´å
             -·²ç»åˆ°äº†ã€‚éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œåªæœ‰ç§’æ•°ä¸º00çš„é‚£ä¸€ç§’å“é“ƒï¼Œå¦åˆ™æ‰‹åŠ¨ç»“æŸä»¥åä¼šä¸€ç›´å“
  55   2              {
  56   3                  if(DS1302_Time[4]==0 && DS1302_Time[5]==0)
  57   3                  {
  58   4                      blink_flag=0;       //è€ƒè™‘åˆ°å“é“ƒæ—¶åˆ»çš„å†’å·é—ªçƒéš¾ä»¥å®ç°ï¼Œæ‰€ä»¥å“é“ƒæ—¶åˆ
             -»ä¸ä¼šé—ªçƒï¼Œä½†è¦ç¡®ä¿è¿›å…¥ç¨‹åºå‰é—ªçƒæ ‡è¯†ç¬¦ä¸º0ï¼Œå¦åˆ™å°†ä¸ä¼šæ˜¾ç¤ºå†’å·
  59   4                      ShowPage_AlarmOn();
  60   4                  }
  61   3              }
  62   2          }
  63   1      }
  64          
  65          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    110    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
